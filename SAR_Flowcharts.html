<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>SAR Narrative Generator â€” System Diagrams</title>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet" />
<style>
  :root {
    --bg: #080c14;
    --surface: #0d1520;
    --surface2: #111c2e;
    --border: #1e3050;
    --border2: #243a5e;
    --gold: #c8a84b;
    --gold-light: #e8c96a;
    --gold-dim: rgba(200,168,75,0.15);
    --teal: #2de4c7;
    --teal-dim: rgba(45,228,199,0.12);
    --red: #e05a5a;
    --red-dim: rgba(224,90,90,0.12);
    --blue: #4a9eff;
    --blue-dim: rgba(74,158,255,0.12);
    --purple: #9d7dff;
    --purple-dim: rgba(157,125,255,0.12);
    --text: #d4e4f7;
    --text-dim: #6e8aaa;
    --text-muted: #3d5a7a;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    font-family: 'Syne', sans-serif;
    color: var(--text);
    min-height: 100vh;
    padding: 60px 40px;
  }

  .page-header {
    text-align: center;
    margin-bottom: 80px;
  }

  .page-header .tag {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    letter-spacing: 0.2em;
    color: var(--gold);
    text-transform: uppercase;
    margin-bottom: 16px;
    display: block;
  }

  .page-header h1 {
    font-size: 36px;
    font-weight: 800;
    background: linear-gradient(135deg, #c8a84b 0%, #e8c96a 50%, #4a9eff 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.2;
    margin-bottom: 10px;
  }

  .page-header .subtitle {
    color: var(--text-dim);
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 0.05em;
  }

  /* â”€â”€â”€ Section â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .section {
    margin-bottom: 80px;
  }

  .section-label {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 36px;
  }

  .section-label .num {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--gold);
    letter-spacing: 0.15em;
    border: 1px solid var(--gold);
    padding: 3px 9px;
    border-radius: 3px;
  }

  .section-label h2 {
    font-size: 22px;
    font-weight: 700;
    color: var(--text);
    letter-spacing: 0.02em;
  }

  .section-label::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(to right, var(--border2), transparent);
  }

  /* â”€â”€â”€ FLOWCHART 1: System Architecture â”€ */
  .arch-grid {
    display: grid;
    gap: 0;
    position: relative;
  }

  .flow-row {
    display: flex;
    align-items: stretch;
    justify-content: center;
    gap: 0;
    position: relative;
    z-index: 2;
  }

  .flow-arrow-row {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 50px;
    position: relative;
    z-index: 1;
  }

  .arrow-down {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
  }

  .arrow-down .line {
    width: 2px;
    height: 30px;
    background: linear-gradient(to bottom, var(--gold), transparent);
  }

  .arrow-down .tip {
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 9px solid var(--gold);
  }

  /* Agent card */
  .agent-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 22px 28px;
    width: 280px;
    position: relative;
    transition: border-color 0.3s;
  }

  .agent-card::before {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: 12px;
    padding: 1px;
    background: linear-gradient(135deg, var(--card-accent, var(--gold)) 0%, transparent 60%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }

  .agent-card .card-tag {
    font-family: 'DM Mono', monospace;
    font-size: 9px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    padding: 3px 8px;
    border-radius: 3px;
    display: inline-block;
    margin-bottom: 10px;
  }

  .agent-card .card-title {
    font-size: 15px;
    font-weight: 700;
    margin-bottom: 6px;
    letter-spacing: 0.02em;
  }

  .agent-card .card-role {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--text-dim);
    line-height: 1.6;
    margin-bottom: 12px;
  }

  .io-strip {
    display: flex;
    gap: 6px;
    flex-wrap: wrap;
  }

  .io-pill {
    font-family: 'DM Mono', monospace;
    font-size: 9px;
    padding: 3px 8px;
    border-radius: 20px;
    border: 1px solid;
    letter-spacing: 0.05em;
  }

  /* Color variants */
  .gold { --card-accent: var(--gold); }
  .gold .card-tag { background: var(--gold-dim); color: var(--gold); }
  .gold .card-title { color: var(--gold-light); }
  .gold .io-pill { color: var(--gold); border-color: rgba(200,168,75,0.3); background: var(--gold-dim); }

  .teal { --card-accent: var(--teal); }
  .teal .card-tag { background: var(--teal-dim); color: var(--teal); }
  .teal .card-title { color: var(--teal); }
  .teal .io-pill { color: var(--teal); border-color: rgba(45,228,199,0.3); background: var(--teal-dim); }

  .blue { --card-accent: var(--blue); }
  .blue .card-tag { background: var(--blue-dim); color: var(--blue); }
  .blue .card-title { color: var(--blue); }
  .blue .io-pill { color: var(--blue); border-color: rgba(74,158,255,0.3); background: var(--blue-dim); }

  .purple { --card-accent: var(--purple); }
  .purple .card-tag { background: var(--purple-dim); color: var(--purple); }
  .purple .card-title { color: var(--purple); }
  .purple .io-pill { color: var(--purple); border-color: rgba(157,125,255,0.3); background: var(--purple-dim); }

  .red { --card-accent: var(--red); }
  .red .card-tag { background: var(--red-dim); color: var(--red); }
  .red .card-title { color: var(--red); }
  .red .io-pill { color: var(--red); border-color: rgba(224,90,90,0.3); background: var(--red-dim); }

  /* Connector arrows between cards (horizontal) */
  .h-arrow {
    display: flex;
    align-items: center;
    padding: 0 12px;
    position: relative;
  }

  .h-arrow .h-line {
    width: 40px;
    height: 2px;
    background: linear-gradient(to right, var(--from-color, var(--gold)), var(--to-color, var(--teal)));
  }

  .h-arrow .h-tip {
    width: 0;
    height: 0;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    border-left: 9px solid var(--to-color, var(--teal));
  }

  /* Input node */
  .input-node {
    background: linear-gradient(135deg, #0d1a2e, #101e35);
    border: 1px solid var(--border2);
    border-radius: 8px;
    padding: 14px 24px;
    text-align: center;
    font-family: 'DM Mono', monospace;
    font-size: 12px;
    color: var(--text-dim);
    letter-spacing: 0.1em;
    width: 280px;
    position: relative;
  }

  .input-node .in-label {
    font-size: 10px;
    letter-spacing: 0.2em;
    color: var(--text-muted);
    text-transform: uppercase;
    margin-bottom: 4px;
  }

  .input-node .in-value {
    font-size: 14px;
    font-weight: 500;
    color: var(--gold-light);
  }

  /* Side db panels */
  .side-db {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px 18px;
    width: 160px;
    display: flex;
    flex-direction: column;
    gap: 6px;
    align-self: center;
    position: relative;
  }

  .side-db .db-tag {
    font-family: 'DM Mono', monospace;
    font-size: 9px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--text-muted);
  }

  .side-db .db-name {
    font-size: 12px;
    font-weight: 600;
  }

  .side-db .db-sub {
    font-family: 'DM Mono', monospace;
    font-size: 10px;
    color: var(--text-dim);
    line-height: 1.5;
  }

  /* â”€â”€â”€ FLOWCHART 2: Methodology â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .method-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
  }

  .method-step {
    display: flex;
    align-items: stretch;
    gap: 0;
    width: 100%;
    max-width: 900px;
    position: relative;
  }

  .step-num-col {
    width: 64px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
    flex-shrink: 0;
  }

  .step-circle {
    width: 42px;
    height: 42px;
    border-radius: 50%;
    border: 2px solid;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'DM Mono', monospace;
    font-size: 13px;
    font-weight: 500;
    flex-shrink: 0;
    position: relative;
    z-index: 2;
  }

  .step-vline {
    width: 2px;
    flex: 1;
    min-height: 20px;
    background: linear-gradient(to bottom, var(--line-color, var(--border2)), transparent);
  }

  .method-card {
    flex: 1;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px 30px;
    margin: 0 0 0 20px;
    margin-bottom: 0;
    position: relative;
  }

  .method-card::before {
    content: '';
    position: absolute;
    left: 0; top: 24px;
    width: 3px; height: 36px;
    border-radius: 0 3px 3px 0;
    background: var(--accent-color, var(--gold));
  }

  .method-card h3 {
    font-size: 16px;
    font-weight: 700;
    margin-bottom: 8px;
    letter-spacing: 0.02em;
  }

  .method-card p {
    font-family: 'DM Mono', monospace;
    font-size: 11.5px;
    color: var(--text-dim);
    line-height: 1.8;
    margin-bottom: 14px;
  }

  .method-card p:last-child {
    margin-bottom: 0;
  }

  .method-tags {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }

  .method-tag {
    font-family: 'DM Mono', monospace;
    font-size: 10px;
    padding: 4px 10px;
    border-radius: 4px;
    border: 1px solid;
    letter-spacing: 0.05em;
  }

  .gap-block {
    height: 28px;
    width: 2px;
    margin-left: 31px;
    background: linear-gradient(to bottom, var(--border2), transparent);
    position: relative;
  }

  /* â”€â”€â”€ FLOWCHART 3: Tech Stack â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .tech-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2px;
    background: var(--border);
    border-radius: 14px;
    overflow: hidden;
  }

  .tech-cell {
    background: var(--surface);
    padding: 28px 24px;
    position: relative;
    transition: background 0.2s;
  }

  .tech-cell:hover {
    background: var(--surface2);
  }

  .tech-cell .layer-badge {
    font-family: 'DM Mono', monospace;
    font-size: 9px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    margin-bottom: 14px;
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--text-muted);
  }

  .tech-cell .layer-badge::before {
    content: '';
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--dot-color, var(--gold));
    flex-shrink: 0;
  }

  .tech-cell h3 {
    font-size: 17px;
    font-weight: 700;
    margin-bottom: 10px;
    color: var(--title-color, var(--text));
  }

  .tech-cell .tech-name {
    font-family: 'DM Mono', monospace;
    font-size: 13px;
    font-weight: 500;
    color: var(--dot-color, var(--gold));
    margin-bottom: 8px;
  }

  .tech-cell p {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--text-dim);
    line-height: 1.7;
  }

  .tech-cell .accent-bar {
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: var(--dot-color, var(--gold));
    opacity: 0.6;
  }

  .tech-wide {
    grid-column: span 3;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 0;
  }

  .tech-wide > div {
    padding: 22px 24px;
    border-right: 2px solid var(--border);
    position: relative;
  }

  .tech-wide > div:last-child { border-right: none; }

  .tech-wide .tw-label {
    font-family: 'DM Mono', monospace;
    font-size: 9px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-bottom: 8px;
  }

  .tech-wide .tw-name {
    font-size: 15px;
    font-weight: 700;
    color: var(--tw-color, var(--teal));
    margin-bottom: 4px;
  }

  .tech-wide .tw-desc {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--text-dim);
    line-height: 1.6;
  }

  /* Decision diamond */
  .diamond-row {
    display: flex;
    justify-content: center;
    margin: 10px 0;
  }

  .diamond {
    width: 120px;
    height: 60px;
    background: var(--surface2);
    border: 1.5px solid var(--red);
    transform: perspective(600px) rotateX(10deg);
    display: flex;
    align-items: center;
    justify-content: center;
    clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
    width: 140px;
    height: 70px;
  }

  .diamond span {
    font-family: 'DM Mono', monospace;
    font-size: 10px;
    color: var(--red);
    letter-spacing: 0.05em;
  }

  /* Audit outcome cards */
  .audit-row {
    display: flex;
    justify-content: center;
    gap: 24px;
    margin-top: 10px;
  }

  .outcome {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 14px 20px;
    text-align: center;
    min-width: 140px;
    position: relative;
  }

  .outcome .out-label {
    font-family: 'DM Mono', monospace;
    font-size: 9px;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    margin-bottom: 4px;
  }

  .outcome .out-val {
    font-size: 13px;
    font-weight: 700;
  }

  /* Horizontal connector with label */
  .connector-label {
    font-family: 'DM Mono', monospace;
    font-size: 9px;
    color: var(--text-muted);
    letter-spacing: 0.1em;
    text-align: center;
    margin: 4px 0;
  }

  /* â”€â”€â”€ Architecture layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .arch-layout {
    display: grid;
    grid-template-rows: auto auto auto auto auto auto auto auto;
    gap: 0;
    align-items: center;
    justify-items: center;
    position: relative;
  }

  .row-center {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0;
    width: 100%;
  }

  .wide-arrow {
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .arrow-down-gold {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .arrow-down-gold .adg-line { width: 2px; height: 28px; background: linear-gradient(to bottom, var(--ac, var(--gold)), transparent); }
  .arrow-down-gold .adg-tip { width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 9px solid var(--ac, var(--gold)); }

  .sidebar-dbs {
    display: flex;
    flex-direction: column;
    gap: 14px;
    align-self: stretch;
    justify-content: center;
  }

  /* Main layout of arch */
  .arch-outer {
    display: grid;
    grid-template-columns: 180px 1fr 180px;
    gap: 20px;
    align-items: start;
  }

  .arch-main {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
  }

  .arch-pipeline {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    gap: 0;
  }

  /* connecting lines between agent cards in pipeline */
  .pipe-connector {
    width: 2px;
    height: 40px;
    position: relative;
  }

  .pipe-connector::before {
    content: '';
    position: absolute;
    top: 0; left: 0;
    width: 2px;
    height: 100%;
    background: linear-gradient(to bottom, var(--from, var(--gold)), var(--to, var(--teal)));
  }

  .pipe-connector::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: -5px;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 9px solid var(--to, var(--teal));
  }

  .pipe-label {
    font-family: 'DM Mono', monospace;
    font-size: 9px;
    color: var(--text-muted);
    letter-spacing: 0.1em;
    text-align: center;
    margin: 4px 0;
    position: relative;
    z-index: 3;
  }

  .output-node {
    background: linear-gradient(135deg, #0d2014, #112918);
    border: 1px solid rgba(45, 228, 199, 0.3);
    border-radius: 8px;
    padding: 14px 32px;
    text-align: center;
    font-family: 'DM Mono', monospace;
    width: 280px;
  }

  .output-node .out-label {
    font-size: 10px;
    letter-spacing: 0.2em;
    color: var(--text-muted);
    text-transform: uppercase;
    margin-bottom: 4px;
  }

  .output-node .out-value {
    font-size: 13px;
    font-weight: 600;
    color: var(--teal);
  }

  /* DB side connector lines */
  .db-connector {
    display: flex;
    align-items: center;
    gap: 0;
  }

  .db-h-line {
    height: 1px;
    width: 40px;
    border-top: 1px dashed var(--border2);
  }

  .db-arrow-r {
    width: 0; height: 0;
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
    border-left: 7px solid var(--border2);
  }

  .db-arrow-l {
    width: 0; height: 0;
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
    border-right: 7px solid var(--border2);
  }

  .sidebar-db-item {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 14px 16px;
  }

  .sidebar-db-item .sdb-tag {
    font-family: 'DM Mono', monospace;
    font-size: 8px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-bottom: 4px;
  }

  .sidebar-db-item .sdb-name {
    font-size: 12px;
    font-weight: 600;
  }

  .sidebar-db-item .sdb-desc {
    font-family: 'DM Mono', monospace;
    font-size: 10px;
    color: var(--text-dim);
    margin-top: 3px;
    line-height: 1.4;
  }

  /* Human Dashboard */
  .human-box {
    background: linear-gradient(135deg, var(--surface), #0e1a2e);
    border: 1.5px solid var(--border2);
    border-radius: 12px;
    padding: 20px 28px;
    width: 100%;
    max-width: 600px;
    display: flex;
    align-items: center;
    gap: 20px;
    position: relative;
  }

  .human-box::before {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: 12px;
    padding: 1px;
    background: linear-gradient(135deg, rgba(200,168,75,0.5) 0%, rgba(45,228,199,0.3) 100%);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }

  .human-icon {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: var(--gold-dim);
    border: 1.5px solid var(--gold);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    flex-shrink: 0;
  }

  .human-info {
    flex: 1;
  }

  .human-info .h-tag {
    font-family: 'DM Mono', monospace;
    font-size: 9px;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-bottom: 4px;
  }

  .human-info .h-title {
    font-size: 15px;
    font-weight: 700;
    color: var(--gold-light);
    margin-bottom: 4px;
  }

  .human-info .h-desc {
    font-family: 'DM Mono', monospace;
    font-size: 11px;
    color: var(--text-dim);
    line-height: 1.5;
  }

  .human-actions {
    display: flex;
    flex-direction: column;
    gap: 6px;
  }

  .h-action {
    font-family: 'DM Mono', monospace;
    font-size: 10px;
    padding: 5px 12px;
    border-radius: 4px;
    border: 1px solid;
    letter-spacing: 0.05em;
    text-align: center;
    white-space: nowrap;
  }

  /* Rejection loop */
  .reject-label {
    position: relative;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .loop-badge {
    font-family: 'DM Mono', monospace;
    font-size: 9px;
    letter-spacing: 0.1em;
    padding: 3px 8px;
    border-radius: 20px;
    background: var(--red-dim);
    border: 1px solid rgba(224,90,90,0.3);
    color: var(--red);
    white-space: nowrap;
  }

  hr.divider {
    border: none;
    border-top: 1px solid var(--border);
    margin: 60px 0;
  }

  /* â”€â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  @media (max-width: 900px) {
    .arch-outer { grid-template-columns: 1fr; }
    .tech-grid { grid-template-columns: 1fr; }
    .tech-wide { grid-column: span 1; grid-template-columns: 1fr; }
    .agent-card { width: 100%; }
    .input-node, .output-node { width: 100%; }
  }

  /* print helper */
  @media print {
    body { background: white; color: black; }
  }
</style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PAGE HEADER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="page-header">
  <span class="tag">Hackathon Submission Â· VIT Pune</span>
  <h1>SAR Narrative Generator<br/>with Audit Trail</h1>
  <div class="subtitle">System Diagrams â€” Architecture Â· Methodology Â· Technology Stack</div>
</div>


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DIAGRAM 1: SYSTEM ARCHITECTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section">
  <div class="section-label">
    <span class="num">01</span>
    <h2>System Architecture â€” Multi-Agent Swarm</h2>
  </div>

  <div class="arch-outer">

    <!-- LEFT SIDEBAR: Data Sources -->
    <div class="sidebar-dbs">
      <div style="font-family:'DM Mono',monospace;font-size:9px;letter-spacing:0.2em;text-transform:uppercase;color:var(--text-muted);text-align:center;margin-bottom:6px;">Data Layer</div>
      <div class="sidebar-db-item">
        <div class="sdb-tag">Graph DB</div>
        <div class="sdb-name" style="color:var(--gold);">Neo4j</div>
        <div class="sdb-desc">K-hop subgraph<br/>Cypher queries</div>
      </div>
      <div class="sidebar-db-item">
        <div class="sdb-tag">Alert Input</div>
        <div class="sdb-name" style="color:var(--text-dim);">Alert ID</div>
        <div class="sdb-desc">Raw transaction<br/>alert trigger</div>
      </div>
    </div>

    <!-- CENTER PIPELINE -->
    <div class="arch-main">

      <!-- Input -->
      <div class="input-node">
        <div class="in-label">Entry Point</div>
        <div class="in-value">ðŸ”” Raw Alert ID Received</div>
      </div>

      <div style="height:40px;display:flex;align-items:center;justify-content:center;flex-direction:column;">
        <div class="arrow-down-gold"><div class="adg-line" style="--ac:var(--gold);"></div><div class="adg-tip" style="border-top-color:var(--gold);"></div></div>
      </div>

      <!-- Agent 1 -->
      <div class="agent-card gold" style="width:100%;">
        <span class="card-tag">Agent 01 Â· Investigator</span>
        <div class="card-title">The Investigator</div>
        <div class="card-role">Connects to Neo4j and executes Cypher queries to retrieve the K-hop subgraph â€” identifying circular flows, shared IPs, and hidden entity links.</div>
        <div class="io-strip">
          <span class="io-pill">IN: Alert ID</span>
          <span class="io-pill">OUT: Graph JSON</span>
          <span class="io-pill">Neo4j Â· Cypher</span>
        </div>
      </div>

      <div style="height:40px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:4px;">
        <div class="pipe-label">Graph JSON (Nodes & Edges)</div>
        <div class="arrow-down-gold"><div class="adg-line" style="--ac:var(--teal);height:14px;"></div><div class="adg-tip" style="border-top-color:var(--teal);"></div></div>
      </div>

      <!-- Agent 2 -->
      <div class="agent-card teal" style="width:100%;">
        <span class="card-tag">Agent 02 Â· Typology Scout</span>
        <div class="card-title">The Typology Scout</div>
        <div class="card-role">Analyses the subgraph against Azure AI Search vector database. Matches typologies like Structuring, Smurfing, or Layering using semantic similarity.</div>
        <div class="io-strip">
          <span class="io-pill">IN: Graph JSON</span>
          <span class="io-pill">OUT: Reasoning Object</span>
          <span class="io-pill">Azure AI Search</span>
        </div>
      </div>

      <div style="height:40px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:4px;">
        <div class="pipe-label">Reasoning Object</div>
        <div class="arrow-down-gold"><div class="adg-line" style="--ac:var(--blue);height:14px;"></div><div class="adg-tip" style="border-top-color:var(--blue);"></div></div>
      </div>

      <!-- Agent 3 -->
      <div class="agent-card blue" style="width:100%;">
        <span class="card-tag">Agent 03 Â· Drafter</span>
        <div class="card-title">The Drafter</div>
        <div class="card-role">Generates SAR narrative via Claude 3.5 Sonnet under strict Citation Lock. Every declarative sentence must reference a specific Node ID â€” hallucinations are architecturally impossible.</div>
        <div class="io-strip">
          <span class="io-pill">IN: Reasoning Object</span>
          <span class="io-pill">OUT: Draft SAR + Citations</span>
          <span class="io-pill">Claude 3.5 Sonnet</span>
        </div>
      </div>

      <div style="height:40px;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:4px;">
        <div class="pipe-label">Draft SAR + Raw Graph</div>
        <div class="arrow-down-gold"><div class="adg-line" style="--ac:var(--purple);height:14px;"></div><div class="adg-tip" style="border-top-color:var(--purple);"></div></div>
      </div>

      <!-- Agent 4 -->
      <div class="agent-card purple" style="width:100%;position:relative;">
        <span class="card-tag">Agent 04 Â· Auditor</span>
        <div class="card-title">The Auditor</div>
        <div class="card-role">Lightweight Critic model (Mistral 7B) cross-verifies the draft against original graph data. Checks factual consistency, tone neutrality, and Barclays Lens compliance.</div>
        <div class="io-strip">
          <span class="io-pill">IN: Draft + Raw Data</span>
          <span class="io-pill">OUT: Quality Score</span>
          <span class="io-pill">Mistral 7B</span>
        </div>
      </div>

      <!-- Audit decision -->
      <div style="display:flex;gap:40px;align-items:flex-start;margin-top:32px;width:100%;justify-content:center;">

        <!-- FAIL path -->
        <div style="display:flex;flex-direction:column;align-items:center;gap:10px;flex:1;max-width:200px;">
          <div style="height:2px;width:100%;background:linear-gradient(to right,transparent,var(--red));"></div>
          <div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:9px solid var(--red);"></div>
          <div style="font-family:'DM Mono',monospace;font-size:9px;color:var(--red);letter-spacing:0.1em;">AUDIT FAILS</div>
          <div style="background:var(--red-dim);border:1px solid rgba(224,90,90,0.3);border-radius:6px;padding:12px 16px;text-align:center;width:100%;">
            <div style="font-family:'DM Mono',monospace;font-size:10px;color:var(--red);letter-spacing:0.05em;">ðŸ”„ Reject & Regenerate</div>
            <div style="font-family:'DM Mono',monospace;font-size:9px;color:var(--text-muted);margin-top:4px;">Auto-loop back to Drafter</div>
          </div>
        </div>

        <!-- PASS path -->
        <div style="display:flex;flex-direction:column;align-items:center;gap:10px;flex:1;max-width:200px;">
          <div style="height:2px;width:100%;background:linear-gradient(to left,transparent,var(--teal));"></div>
          <div style="width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:9px solid var(--teal);"></div>
          <div style="font-family:'DM Mono',monospace;font-size:9px;color:var(--teal);letter-spacing:0.1em;">AUDIT PASSES</div>
          <div class="human-box" style="width:100%;flex-direction:column;gap:10px;padding:14px 16px;">
            <div style="font-family:'DM Mono',monospace;font-size:9px;letter-spacing:0.15em;text-transform:uppercase;color:var(--text-muted);">Human Review</div>
            <div style="font-size:14px;font-weight:700;color:var(--gold-light);">ðŸ–¥ Investigative Dashboard</div>
            <div style="display:flex;flex-direction:column;gap:4px;width:100%;">
              <div class="h-action" style="color:var(--teal);border-color:rgba(45,228,199,0.3);background:var(--teal-dim);">Approve & File SAR</div>
              <div class="h-action" style="color:var(--gold);border-color:rgba(200,168,75,0.3);background:var(--gold-dim);">Edit Narrative</div>
              <div class="h-action" style="color:var(--red);border-color:rgba(224,90,90,0.3);background:var(--red-dim);">Reject Report</div>
            </div>
          </div>
        </div>

      </div>

    </div><!-- /arch-main -->

    <!-- RIGHT SIDEBAR: Supporting Services -->
    <div class="sidebar-dbs">
      <div style="font-family:'DM Mono',monospace;font-size:9px;letter-spacing:0.2em;text-transform:uppercase;color:var(--text-muted);text-align:center;margin-bottom:6px;">Support Layer</div>
      <div class="sidebar-db-item">
        <div class="sdb-tag">Vector DB</div>
        <div class="sdb-name" style="color:var(--teal);">Azure AI Search</div>
        <div class="sdb-desc">AML typology<br/>embeddings</div>
      </div>
      <div class="sidebar-db-item">
        <div class="sdb-tag">Security</div>
        <div class="sdb-name" style="color:var(--red);">MS Presidio</div>
        <div class="sdb-desc">PII masking<br/>before LLM</div>
      </div>
      <div class="sidebar-db-item">
        <div class="sdb-tag">Orchestration</div>
        <div class="sdb-name" style="color:var(--purple);">LangGraph</div>
        <div class="sdb-desc">Agent swarm<br/>coordination</div>
      </div>
    </div>

  </div>
</div>


<hr class="divider" />


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DIAGRAM 2: METHODOLOGY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section">
  <div class="section-label">
    <span class="num">02</span>
    <h2>Methodology â€” Graph RAG Inference Pipeline</h2>
  </div>

  <div class="method-container">

    <!-- Step 1 -->
    <div class="method-step">
      <div class="step-num-col">
        <div class="step-circle" style="border-color:var(--gold);color:var(--gold);">01</div>
        <div class="step-vline" style="--line-color:var(--gold);"></div>
      </div>
      <div class="method-card" style="--accent-color:var(--gold);">
        <h3 style="color:var(--gold-light);">Relational Discovery â€” K-Hop Graph Traversal</h3>
        <p>Instead of keyword searching, the system initiates a Cypher query traversal from the alerted entity. The graph expands K-hops (K=2 or 3) to surface non-obvious relationships â€” co-ownership structures, circular funds flows, and shared infrastructure.</p>
        <div class="method-tags">
          <span class="method-tag" style="color:var(--gold);border-color:rgba(200,168,75,0.3);background:var(--gold-dim);">Neo4j Cypher</span>
          <span class="method-tag" style="color:var(--gold);border-color:rgba(200,168,75,0.3);background:var(--gold-dim);">K-Hop Expansion</span>
          <span class="method-tag" style="color:var(--gold);border-color:rgba(200,168,75,0.3);background:var(--gold-dim);">Subgraph JSON</span>
        </div>
      </div>
    </div>

    <div class="gap-block"></div>

    <!-- Step 2 -->
    <div class="method-step">
      <div class="step-num-col">
        <div class="step-circle" style="border-color:var(--teal);color:var(--teal);">02</div>
        <div class="step-vline" style="--line-color:var(--teal);"></div>
      </div>
      <div class="method-card" style="--accent-color:var(--teal);">
        <h3 style="color:var(--teal);">Semantic Typology Matching â€” Hybrid Retrieval</h3>
        <p>The verified subgraph is vectorized and compared against a curated vector database of regulatory AML typologies. This bridges the gap between raw transaction patterns and legal or regulatory categories like Structuring, Smurfing, or Layering.</p>
        <div class="method-tags">
          <span class="method-tag" style="color:var(--teal);border-color:rgba(45,228,199,0.3);background:var(--teal-dim);">Azure AI Search</span>
          <span class="method-tag" style="color:var(--teal);border-color:rgba(45,228,199,0.3);background:var(--teal-dim);">Vector Similarity</span>
          <span class="method-tag" style="color:var(--teal);border-color:rgba(45,228,199,0.3);background:var(--teal-dim);">AML Typologies</span>
        </div>
      </div>
    </div>

    <div class="gap-block"></div>

    <!-- Step 3 -->
    <div class="method-step">
      <div class="step-num-col">
        <div class="step-circle" style="border-color:var(--blue);color:var(--blue);">03</div>
        <div class="step-vline" style="--line-color:var(--blue);"></div>
      </div>
      <div class="method-card" style="--accent-color:var(--blue);">
        <h3 style="color:var(--blue);">Constrained Generation â€” Citation Lock</h3>
        <p>The Drafter Agent operates under strict Citation Lock: it is architecturally prohibited from generating any declarative statement unless it can append a valid Node ID from the Neo4j subgraph. If an LLM attempts to fabricate a transaction amount, the constraint is violated and generation is rejected â€” making hallucinations structurally impossible.</p>
        <div class="method-tags">
          <span class="method-tag" style="color:var(--blue);border-color:rgba(74,158,255,0.3);background:var(--blue-dim);">Claude 3.5 Sonnet</span>
          <span class="method-tag" style="color:var(--blue);border-color:rgba(74,158,255,0.3);background:var(--blue-dim);">Citation Lock</span>
          <span class="method-tag" style="color:var(--blue);border-color:rgba(74,158,255,0.3);background:var(--blue-dim);">Anti-Hallucination</span>
          <span class="method-tag" style="color:var(--blue);border-color:rgba(74,158,255,0.3);background:var(--blue-dim);">Node ID Grounding</span>
        </div>
      </div>
    </div>

    <div class="gap-block"></div>

    <!-- Step 4 -->
    <div class="method-step">
      <div class="step-num-col">
        <div class="step-circle" style="border-color:var(--purple);color:var(--purple);">04</div>
        <div class="step-vline" style="--line-color:var(--purple);"></div>
      </div>
      <div class="method-card" style="--accent-color:var(--purple);">
        <h3 style="color:var(--purple);">Governance & Deterministic Audit Loop</h3>
        <p>A lightweight Critic model (Mistral 7B) post-processes the generated draft. It verifies factual consistency (cited Node IDs match actual transaction data), tone compliance (neutral, non-accusatory language under the Barclays Lens), and regulatory adherence.</p>
        <p>Failure at any checkpoint triggers an automatic Reject & Regenerate loop before the draft ever reaches a human analyst.</p>
        <div class="method-tags">
          <span class="method-tag" style="color:var(--purple);border-color:rgba(157,125,255,0.3);background:var(--purple-dim);">Mistral 7B Critic</span>
          <span class="method-tag" style="color:var(--purple);border-color:rgba(157,125,255,0.3);background:var(--purple-dim);">Barclays Lens</span>
          <span class="method-tag" style="color:var(--purple);border-color:rgba(157,125,255,0.3);background:var(--purple-dim);">Auto-Regeneration</span>
          <span class="method-tag" style="color:var(--purple);border-color:rgba(157,125,255,0.3);background:var(--purple-dim);">Quality Score</span>
        </div>
      </div>
    </div>

    <div class="gap-block"></div>

    <!-- Step 5 -->
    <div class="method-step">
      <div class="step-num-col">
        <div class="step-circle" style="border-color:var(--gold-light);color:var(--gold-light);">05</div>
      </div>
      <div class="method-card" style="--accent-color:var(--gold-light);background:linear-gradient(135deg,var(--surface),#0f1d30);">
        <h3 style="color:var(--gold-light);">Scalability, Security & PII Protection</h3>
        <p>The agent swarm is deployed as stateless microservices on Azure Red Hat OpenShift (ARO), allowing the Investigator and Drafter modules to scale independently. All PII is masked via Microsoft Presidio before entering any LLM context window, and re-hydrated only within the secure on-premise UI.</p>
        <div class="method-tags">
          <span class="method-tag" style="color:var(--gold);border-color:rgba(200,168,75,0.3);background:var(--gold-dim);">Azure Red Hat OpenShift</span>
          <span class="method-tag" style="color:var(--gold);border-color:rgba(200,168,75,0.3);background:var(--gold-dim);">MS Presidio PII</span>
          <span class="method-tag" style="color:var(--gold);border-color:rgba(200,168,75,0.3);background:var(--gold-dim);">Microservices</span>
          <span class="method-tag" style="color:var(--gold);border-color:rgba(200,168,75,0.3);background:var(--gold-dim);">Stateless Containers</span>
        </div>
      </div>
    </div>

  </div>
</div>


<hr class="divider" />


<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DIAGRAM 3: TECH STACK
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section">
  <div class="section-label">
    <span class="num">03</span>
    <h2>Technology Stack</h2>
  </div>

  <div class="tech-grid">

    <!-- Row 1 -->
    <div class="tech-cell" style="--dot-color:var(--gold);">
      <div class="accent-bar"></div>
      <div class="layer-badge">Orchestration Layer</div>
      <div class="tech-name">LangGraph</div>
      <h3>Agent Swarm<br/>Orchestrator</h3>
      <p>Coordinates all four specialized agents into a directed acyclic graph. Manages state transitions, conditional routing, and retry logic between agents.</p>
    </div>

    <div class="tech-cell" style="--dot-color:var(--gold);">
      <div class="accent-bar"></div>
      <div class="layer-badge">Graph Database</div>
      <div class="tech-name">Neo4j</div>
      <h3>Graph Knowledge<br/>Store</h3>
      <p>Stores transaction relationships as a property graph. Enables K-hop Cypher traversals to surface circular flows, hidden entity links, and fund movement chains.</p>
    </div>

    <div class="tech-cell" style="--dot-color:var(--teal);">
      <div class="accent-bar" style="background:var(--teal);"></div>
      <div class="layer-badge">Vector Database</div>
      <div class="tech-name">Azure AI Search</div>
      <h3>AML Typology<br/>Vector Store</h3>
      <p>Stores semantic embeddings of known AML typologies. Retrieves best-match regulatory patterns to classify suspicious behavior (Structuring, Layering, Smurfing).</p>
    </div>

    <!-- Row 2 -->
    <div class="tech-cell" style="--dot-color:var(--blue);">
      <div class="accent-bar" style="background:var(--blue);"></div>
      <div class="layer-badge">Primary LLM</div>
      <div class="tech-name">Claude 3.5 Sonnet</div>
      <h3>SAR Narrative<br/>Generator</h3>
      <p>Powers the Drafter Agent under Citation Lock constraints. Generates compliant, citation-backed SAR narrative prose grounded in Node ID references from the graph.</p>
    </div>

    <div class="tech-cell" style="--dot-color:var(--purple);">
      <div class="accent-bar" style="background:var(--purple);"></div>
      <div class="layer-badge">Critic LLM</div>
      <div class="tech-name">Mistral 7B</div>
      <h3>Deterministic<br/>Audit Critic</h3>
      <p>Lightweight post-processing model that verifies factual grounding, tone compliance (Barclays Lens), and citation integrity. Triggers auto-regeneration on failure.</p>
    </div>

    <div class="tech-cell" style="--dot-color:var(--red);">
      <div class="accent-bar" style="background:var(--red);"></div>
      <div class="layer-badge">Security & Privacy</div>
      <div class="tech-name">Microsoft Presidio</div>
      <h3>PII Masking<br/>Engine</h3>
      <p>Intercepts all data before it enters the LLM context window. Masks names, account numbers, addresses, and identifiers. Re-hydrates PII only within the secure UI.</p>
    </div>

    <!-- Row 3: Infra full width -->
    <div class="tech-cell" style="grid-column:span 3;--dot-color:var(--teal);">
      <div class="accent-bar" style="background:linear-gradient(to right,var(--teal),var(--blue),var(--gold));"></div>
      <div class="layer-badge">Infrastructure & Deployment</div>
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:30px;margin-top:8px;">
        <div>
          <div style="font-family:'DM Mono',monospace;font-size:12px;font-weight:500;color:var(--teal);margin-bottom:6px;">Azure Red Hat OpenShift</div>
          <p style="font-family:'DM Mono',monospace;font-size:11px;color:var(--text-dim);line-height:1.6;">Kubernetes-based container orchestration. Deploys agents as stateless microservices â€” Investigator and Drafter scale independently based on alert volume.</p>
        </div>
        <div>
          <div style="font-family:'DM Mono',monospace;font-size:12px;font-weight:500;color:var(--blue);margin-bottom:6px;">Investigative Dashboard</div>
          <p style="font-family:'DM Mono',monospace;font-size:11px;color:var(--text-dim);line-height:1.6;">Secure compliance officer UI for the Human-in-the-Loop review phase. Supports narrative editing with inline evidence, approval workflows, and export to SAR filing systems.</p>
        </div>
        <div>
          <div style="font-family:'DM Mono',monospace;font-size:12px;font-weight:500;color:var(--gold);margin-bottom:6px;">Data Flow Security</div>
          <p style="font-family:'DM Mono',monospace;font-size:11px;color:var(--text-dim);line-height:1.6;">End-to-end encryption on all inter-agent communication. PII is masked at ingestion and re-hydrated only within the on-premise UI boundary â€” never exposed to cloud LLMs.</p>
        </div>
      </div>
    </div>

  </div>

</div>

<div style="text-align:center;margin-top:60px;padding-top:30px;border-top:1px solid var(--border);">
  <span style="font-family:'DM Mono',monospace;font-size:10px;color:var(--text-muted);letter-spacing:0.15em;">SAR NARRATIVE GENERATOR WITH AUDIT TRAIL Â· VISHWAKARMA INSTITUTE OF TECHNOLOGY, PUNE Â· 2025</span>
</div>

</body>
</html>
